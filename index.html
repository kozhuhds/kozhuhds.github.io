<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>blockly</title>
    <script src="blockly_compressed.js"></script>
    <script src="blocks_compressed.js"></script>
    <script src="msg/js/en.js"></script>
</head>
<script>
    window.onload = function () {
        Blockly.Blocks['conference'] = {
            init: function() {
                this.setHelpUrl('http://www.example.com/');
                this.setColour(120);
                this.appendDummyInput()
                        .appendField("Конфернеция");
                this.appendValueInput("food")
                        .setCheck("eat")
                        .appendField("Питание");
                this.appendStatementInput("NAME")
                        .setCheck("speaker")
                        .appendField("Спикеры");
                this.setTooltip('');
            }
        };
        Blockly.Blocks['eat'] = {
            init: function() {
                this.setHelpUrl('http://www.example.com/');
                this.setColour(60);
                this.appendDummyInput()
                        .appendField("Питание на конференции");
                this.appendValueInput("coffee")
                        .appendField("Кофе");
                this.appendValueInput("water")
                        .appendField("Вода");
                this.appendValueInput("sugar")
                        .appendField("Сахар");
                this.setOutput(true, "eat");
                this.setTooltip('');
            }
        };
        Blockly.Blocks['speaker'] = {
            init: function() {
                this.setHelpUrl('http://www.example.com/');
                this.setColour(65);
                this.appendDummyInput()
                        .appendField(new Blockly.FieldTextInput("Имя"), "NAME");
                this.setPreviousStatement(true, "speaker");
                this.setNextStatement(true, "speaker");
                this.setTooltip('');
            }
        };
        Blockly.Blocks['done'] = {
            init: function() {
                this.setHelpUrl('http://www.example.com/');
                this.setColour(120);
                this.appendDummyInput()
                        .appendField("Сделано");
                this.setOutput(true, "Boolean");
                this.setTooltip('');
            }
        };
        Blockly.inject(document.getElementById('blocklyDiv'),
                {toolbox: document.getElementById('toolbox')});
    }
</script>
<body>
    <div id="blocklyDiv" style="height: 480px; width: 1000px;"></div>
</body>
</html>

<xml id="toolbox" style="display: none">
    <block type="conference"></block>
    <block type="eat"></block>
    <block type="done"></block>
    <block type="speaker"></block>
</xml>